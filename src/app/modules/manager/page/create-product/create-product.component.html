<div class="container">
  <div class="title">Create and manage your product</div>
  <div class="subtitle">Please fill in the information below carefully. You will not be able to update it later.</div>
  <div class="content">
    <div class="left">
      <form class="form" [formGroup]="form" (ngSubmit)="submit()">
        <label for="uid">PRODUCT UID<i class="pi pi-info-circle"
            pTooltip="Note: The UID for this product is automatically generated by the system before product creation. You do not need to enter an UID in this field."></i></label>
        <input type="text" pInputText formControlName="uid" class="input-text1 uid" />

        <label for="name">NAME</label>
        <input type="text" pInputText formControlName="name" class="input-text1" />
        <small class="error"
          *ngIf="(form.controls['name'].touched || submitted) && (form.controls['name'].errors?.required || form.controls['name'].errors?.emptyString)">
          Name is required</small>

        <label for="category">CATEGORY</label>
        <input type="text" pInputText formControlName="category" class="input-text1" />
        <small class="error"
          *ngIf="(form.controls['category'].touched || submitted) && (form.controls['category'].errors?.required || form.controls['category'].errors?.emptyString)">
          Category is required</small>

        <label for="manufacturer">MANUFACTURER</label>
        <input type="text" pInputText formControlName="manufacturer" class="input-text1" />
        <small class="error"
          *ngIf="(form.controls['manufacturer'].touched || submitted) && (form.controls['manufacturer'].errors?.required || form.controls['manufacturer'].errors?.emptyString)">
          Manufacturer is required</small>

        <div class="dates">
          <div class="date">
            <label for="manufacturingDate">MANUFACTURING DATE</label>
            <p-calendar formControlName="manufacturingDate" dateFormat="dd-mm-yy" styleClass="calendar"
              [hideOnDateTimeSelect]="false" [showIcon]="true" (onSelect)="manufacturingDateSelected()">
            </p-calendar>
            <small class="error"
              *ngIf="(form.controls['manufacturingDate'].touched || submitted) && (form.controls['manufacturingDate'].errors?.required || form.controls['manufacturingDate'].errors?.emptyString)">
              Manufacturing date is required</small>
          </div>
          <div class="date">
            <label for="expiryDate">EXPIRY DATE</label>
            <p-calendar formControlName="expiryDate" dateFormat="dd-mm-yy" styleClass="calendar"
              [hideOnDateTimeSelect]="false" [showIcon]="true" [minDate]="expiryMinDate">
            </p-calendar>
            <small class="error"
              *ngIf="(form.controls['expiryDate'].touched || submitted) && (form.controls['expiryDate'].errors?.required || form.controls['expiryDate'].errors?.emptyString)">
              Expiry date is required</small>
          </div>
        </div>

        <label for="description">DESCRIPTION</label>
        <textarea rows="4" cols="30" pInputTextarea formControlName="description" class="input-textarea"></textarea>
        <small class="error"
          *ngIf="(form.controls['description'].touched || submitted) && (form.controls['description'].errors?.required || form.controls['description'].errors?.emptyString)">
          Description is required</small>

        <label for="derived">DERIVED FROM
          <i class="pi pi-info-circle" pTooltip="Add the uids of the products your new product is derived from"></i>
        </label>
        <div class="p-inputgroup">
          <input type="text" pInputText formControlName="parentUid" class="input-text1 parent-uid" />
          <button type="button" pButton icon="pi pi-plus" class="button-filled" (click)="addParentUid()"></button>
        </div>
        <div class="derived">
          <div class="derived-item" *ngFor="let parent of parents">
            <div class="derived-item-text">{{ parent.name }}</div>
            <button type="button" pButton icon="pi pi-trash" class="button-filled-reversed"
              (click)="removeParentUid(parent.uid)"></button>
          </div>
        </div>

        <button type="submit" pButton label="Create" class="button-filled request-button" [loading]="loading"></button>
      </form>
    </div>
    <div class="right"></div>
  </div>
</div>
